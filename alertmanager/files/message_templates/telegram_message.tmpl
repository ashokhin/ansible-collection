#
# Please do not change this file directly since it is managed by Ansible and will be overwritten.
#
{{ define "alert_list" }}{{ range . }}
---
🪪 <b>{{ .Labels.alertname }}</b>
{{- if eq .Labels.severity "critical" }}
🚨 CRITICAL 🚨 {{ end }}
{{- if eq .Labels.severity "warning" }}
⚠️ WARNING ⚠️{{ end }}
{{- if eq .Labels.severity "info" }}
ℹ️ INFO ℹ️{{ end }}
{{- if .Annotations.title }}
📝 {{ .Annotations.title }}{{ end }}
{{- if .Annotations.description }}
📖 {{ .Annotations.description }}{{ end }}

🏷 <b>Labels</b>:
{{ range .Labels.SortedPairs }}  {{ .Name }}: <code>{{ .Value }}</code>
{{ end }}{{ end }}
📊 <a href="https://rb-laptop.ddns.net/grafana/">Grafana</a>
📢 <a href="https://rb-laptop.ddns.net/alertmanager/">Alertmanager</a>
🔥 <a href="https://rb-laptop.ddns.net/prometheus/">Prometheus</a>
{{ end }}

{{ define "telegram.message" }}
{{ if gt (len .Alerts.Firing) 0 }}
🔥 Alerts Firing 🔥
{{ template "alert_list" .Alerts.Firing }}
{{ end }}
{{ if gt (len .Alerts.Resolved) 0 }}
✅ Alerts Resolved ✅
{{ template "alert_list" .Alerts.Resolved }}
{{ end }}
{{ end }}
